
/* ==============================
   IMAGE RESPONSIVENESS - UNIVERSAL FIX
   - Site-wide image container and responsiveness rules
   - Mobile-first responsive design
   ============================== */

/* Universal image responsiveness */
img {
  max-width: 100% !important;
  height: auto !important;
  display: block;
  object-fit: cover;
  object-position: center;
}

/* Image containers - prevent overflow */
[class*="aspect-"], .image-container, .relative {
  overflow: hidden;
}

/* Consistent aspect ratios for different use cases */
.aspect-video {
  aspect-ratio: 16 / 9;
  width: 100%;
  height: auto;
}

.aspect-square {
  aspect-ratio: 1 / 1;
  width: 100%;
  height: auto;
}

.aspect-[4/3] {
  aspect-ratio: 4 / 3;
  width: 100%;
  height: auto;
}

.aspect-[3/2] {
  aspect-ratio: 3 / 2;
  width: 100%;
  height: auto;
}

/* Ensure images fill their aspect ratio containers properly */
.aspect-video img, 
.aspect-square img, 
.aspect-[4/3] img,
.aspect-[3/2] img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
}

/* Gallery and showcase image containers */
.gallery-image, .showcase-image, .hero-image {
  position: relative;
  overflow: hidden;
  width: 100%;
}

.gallery-image img, .showcase-image img, .hero-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Override any remaining fixed height classes that cause oversized images */
.h-64, .h-48, .h-40, .h-32, .h-28, .h-24, .h-20, .h-16 {
  height: auto !important;
  aspect-ratio: 4 / 3;
}

.h-64 img, .h-48 img, .h-40 img, .h-32 img, .h-28 img, .h-24 img, .h-20 img, .h-16 img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .aspect-video {
    aspect-ratio: 4 / 3; /* Slightly taller on mobile for better visibility */
  }
  
  .aspect-[4/3] {
    aspect-ratio: 1 / 1; /* Square on mobile for consistency */
  }
  
  .grid-cols-2 .aspect-square {
    aspect-ratio: 1 / 1; /* Keep square on mobile grid */
  }
}

@media (max-width: 480px) {
  .aspect-video {
    aspect-ratio: 1 / 1; /* Square on very small screens */
  }
}

/* Hero image specific rules */
.hero-fullscreen img {
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  object-position: center;
  position: absolute;
  top: 0;
  left: 0;
}

/* Prevent image stretching in flexbox and grid */
.flex img, .grid img {
  flex-shrink: 0;
  min-width: 0;
  max-width: 100%;
}

/* Card image containers */
.card img, .card-hover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Loading and error states */
img[loading="lazy"] {
  transition: opacity 0.3s ease;
}

img:not([src]), img[src=""], img[src*="placeholder"] {
  background: #f3f4f6;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
}

img:not([src])::before, img[src=""]::before {
  content: "Loading...";
  color: #6b7280;
  font-size: 0.875rem;
}

/* Specific fixes for oversized images */
.container img, .max-w-7xl img, .max-w-6xl img, .max-w-5xl img, .max-w-4xl img {
  max-width: 100% !important;
  height: auto !important;
}

/* Force proper sizing on all image containers */
[class*="w-full"] img {
  max-width: 100% !important;
  height: auto !important;
}
